!function t(e,a,r){function n(o,l){if(!a[o]){if(!e[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=a[o]={exports:{}};e[o][0].call(d.exports,function(t){var a=e[o][1][t];return n(a?a:t)},d,d.exports,t,e,a,r)}return a[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e,a){function r(t,e,a){for(var r=-1,n=0;n<t.length-1;n++){var i=e(t[n]),o=e(t[n+1]),l=a>=i,s=o>=a;l&&s&&(Δ1=Math.abs(e(t[n])-a),Δ2=Math.abs(e(t[n+1])-a),r=Δ1<Δ2?n:n+1)}return r}function n(t,e,a,r,n){var i=d3.select("#tooltip");if(i.empty()){i=r.append("g").attr("id","tooltip").attr("class","tooltip"),i.append("circle").attr("id","tooltip-circle");var o=i.append("g").attr("id","label");o.append("text").attr("text-anchor","middle").attr("id","label-text")}if(-1==a)return void i.attr("visibility","hidden");i.attr("visibility","visible"),d3.select("#label-text").text(n(t[a])).attr("x",0).attr("y",-10);var l=e(t[a]);i.attr("transform","translate("+l[0]+","+l[1]+")")}var i=t("./test");i.testPrint();var o=d3.time.format("%Y-%m-%d"),l=d3.time.scale(),s=d3.scale.linear(),c=1e3,d=600,u={xstart:50,ytop:0,xend:0,ybottom:50},p={x:0,y:0},f=1,v=[];l.range([0,c-u.xstart-u.xend]),s.range([d-u.ytop-u.ybottom,0]);var x=d3.svg.axis().scale(l).orient("bottom").ticks(5),h=d3.svg.axis().scale(s).orient("left").ticks(5),m=function(t){return t.Date},y=function(t){return t.Mean},g=function(t){return l(t.Date)},b=function(t){return s(t.Mean)},D=function(t){return[l(t.Date),s(t.Mean)]};d3.csv("data.csv",function(t,e){function a(){A.call(x),E.call(h),p.x=d3.event.translate[0],p.y=d3.event.translate[1],f=d3.event.scale,z.selectAll("circle.data-point").attr("cx",g).attr("cy",b),i(),M()}function i(){var t=[];t[0]=v[0]-u.xstart,t[1]=v[1]-u.ytop;var a=l.invert(t[0]),i=r(e,function(t){return t.Date},a);n(e,function(t){return[l(t.Date),s(t.Mean)]},i,d3.select("#graph"),function(t){return Math.round(1e3*t.Mean)/1e3})}function M(){if("linear"==F||"undefined"==F)d3.select(".line").attr("d",k(e,D));else{var t=d3.svg.line().x(g).y(b).interpolate(F);d3.select(".line").attr("d",t(e))}}function k(t,e){for(var a="",r=0;r<t.length;r++){var n=e(t[r]);a+=0!==r?"L"+n[0]+","+n[1]:"M"+n[0]+","+n[1],r!==t.length-1&&(a+=" ")}return a}e.sort(function(t,e){return t.Date<e.Date?-1:t.Date>e.Date?1:0});for(var w=0;w<e.length;w++)e[w].Date=o.parse(e[w].Date),e[w].Open=parseFloat(e[w].Open),e[w].Close=parseFloat(e[w].Close),e[w].Mean=(e[w].Open+e[w].Close)/2;var O=[];O[0]=d3.min(e,m),O[1]=d3.max(e,function(t){var e=t.Date.getTime()-O[0].getTime();return e*=1.1,new Date(e+O[0].getTime())});var q=[];q[0]=d3.min(e,y),q[1]=d3.max(e,function(t){var e=t.Mean-q[0];return q[0]+1.1*e}),l.domain(O),s.domain(q);var C=d3.behavior.zoom().x(l).y(s).scaleExtent([1,50]).on("zoom",a),T=null,z=d3.select("#visualization").attr("width",c).attr("height",d).call(C);z.append("mask").attr("id","mask").append("rect").attr("x",0).attr("y",0).attr("width",c-u.xstart-u.xend).attr("height",d-u.ytop-u.ybottom).attr("fill","white"),T=z.append("g").attr("id","graph").attr("transform","translate("+u.xstart+","+u.ytop+")").attr("mask","url(#mask)").selectAll("circle").data(e).enter().append("circle").attr("class","data-point").attr("cx",g).attr("cy",b);var A=z.append("g").attr("class","axis axis-x").attr("transform","translate("+u.xstart+","+(d-u.ybottom)+")").call(x),E=z.append("g").attr("class","axis axis-y").attr("transform","translate(50,0)").call(h);z.append("rect").attr("id","overlay").attr("x",u.xstart).attr("y",u.ytop).attr("width",c-u.xstart-u.xend).attr("height",d-u.ytop-u.ybottom).on("mousemove",function(){v=d3.mouse(this),i()});var F="undefined",L=d3.select("#graph").append("path").attr("class","line");if("linear"==F||"undefined"==F)L.attr("d",k(e,D));else{var N=d3.svg.line().x(g).y(b).interpolate(F);L.attr("d",N(e))}$("select").on("change",function(){F=this.value,M()}),$("#checkbox").on("change",function(){var t=d3.selectAll(".data-point");$(this).is(":checked")?t.classed("hidden",!1):t.classed("hidden",!0)})})},{"./test":2}],2:[function(t,e,a){e.exports.testPrint=function(){console.log("Browserify funktioniert!")}},{}]},{},[1]);
//# sourceMappingURL=script.js.map
